---
name: create-context
description: 작업 내용을 CLAUDE.md 형태로 글로벌 컨텍스트 디렉토리에 생성합니다.
triggers:
  - "CLAUDE.md 생성해주세요"
  - "CLAUDE.md 업데이트해주세요"
  - "컨텍스트 파일 만들어줘"
  - "새 컨텍스트 추가해줘"
---
## Interface
### Input
- `$ARGUMENT`: 컨텍스트 파일 이름 (예: `backend`, `frontend`, `infra`)
- 없으면 사용자에게 질문해주세요

### Output
`/Users/jerrykwon/Desktop/cupix/tool/ai-tool/claude/.claude/claude-md/{$ARGUMENT}.md` 파일 생성

## Work Flow
1. 먼저 대상 파일 존재 여부를 확인합니다.
2. 파일이 없으면 → 새로 생성 플로우 (Work Item 1~3)
3. 파일이 있으면 → 업데이트 플로우 (Work Item 4~5)

## Work Item
### 1. 사용자에게 컨텍스트 내용 확인 (신규 생성 시)
사용자에게 어떤 프로젝트/도메인에 대한 컨텍스트인지 확인합니다.
- 프로젝트/도메인 이름
- 주요 기술 스택
- 아키텍처 특징
- 코딩 컨벤션
- 자주 쓰는 명령어

### 2. 컨텍스트 파일 생성
아래 템플릿을 기반으로 `/Users/jerrykwon/Desktop/cupix/tool/ai-tool/claude/.claude/claude-md/{$ARGUMENT}.md` 파일을 생성합니다.

```markdown
# {프로젝트/도메인 이름} Context

## Overview
(프로젝트 개요)
- 해당 모듈이 무엇을 하는지 간단히 설명

## Tech Stack
- (기술 스택 정보)

## Architecture
- (아키텍처 정보)
- ASCII 또는 텍스트 기반 흐름도 (해당되는 경우)
- 다른 모듈과의 인터페이스

## Resources
생성되는 CSP(AWS, Azure, GCP 등) Cloud 리소스 목록 (테이블 형식)

## Conventions
- (코딩 컨벤션)

## Common Commands
- (자주 쓰는 명령어)
```

### 3. 글로벌 CLAUDE.md 업데이트
`/Users/jerrykwon/Desktop/cupix/tool/ai-tool/claude/.claude/CLAUDE.md`의 `# Project Contexts` 테이블에 새 컨텍스트를 추가합니다.

**추가할 내용 형식:**
```markdown
| {프로젝트명} | /Users/jerrykwon/Desktop/cupix/tool/ai-tool/claude/.claude/claude-md/{$ARGUMENT}.md |
```

**규칙:**
- 이미 동일한 참조가 있으면 스킵
- 테이블 마지막 행에 추가

### 4. 기존 파일 확인 및 업데이트 확인 (업데이트 시)
파일이 이미 존재하면:
1. 기존 파일 내용을 읽어서 사용자에게 보여줍니다.
2. 사용자에게 다음 중 하나를 선택하도록 질문합니다:
   - **전체 덮어쓰기**: 기존 내용을 버리고 새로 작성
   - **부분 수정**: 특정 섹션만 업데이트
   - **취소**: 작업 중단

### 5. 업데이트 실행 (업데이트 시)
- **전체 덮어쓰기** 선택 시: Work Item 1~2 진행 (새로 작성)
- **부분 수정** 선택 시:
  1. 사용자에게 수정할 섹션과 내용을 확인합니다.
  2. 해당 섹션만 Edit 도구로 수정합니다.

## Remarks
- 파일명에 확장자(.md)를 포함하지 않아도 됩니다
